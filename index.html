<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MetaMask Network Example</title>
    <script>

        var SiteNetID = '421614';
        var SiteNetChainID = '0x66EEE';

        async function addNetwork() {
            var params = [{
                    chainId: SiteNetChainID,
                    chainName: 'Arbitrum Sepolia',
                    nativeCurrency: {
                        name: 'ETH',
                        symbol: 'ETH',
                        decimals: 18
                    },
                    rpcUrls: ['https://sepolia-rollup.arbitrum.io/rpc'],
                    blockExplorerUrls: ['https://sepolia.arbiscan.io/']
                }]
                window.ethereum.request({ method: 'wallet_addEthereumChain', params })
                    .then(() => console.log('Success'))
                    .catch((error) => console.log("Error", error.message));
        }

    </script>


    <script>
        async function switchOrAddNetwork() {
            try {
                await provider // Or window.ethereum if you don't support EIP-6963.
                    .request({
                        method: "wallet_switchEthereumChain",
                        params: [{chainId: "0x66EEE"}],
                    })
            } catch (switchError) {
                // This error code indicates that the chain has not been added to MetaMask.
                if (switchError.code === 4902) {
                    try {
                        await provider // Or window.ethereum if you don't support EIP-6963.
                            .request({
                                method: "wallet_addEthereumChain",
                                params: [
                                    {
                                        chainId: "0x66EEE",
                                        chainName: "Arbitrum Sepolia",
                                        rpcUrls: ['https://sepolia-rollup.arbitrum.io/rpc'],
                                        blockExplorerUrls: ['https://sepolia.arbiscan.io/']
                                    },
                                ],
                            })
                    } catch (addError) {
                        // Handle "add" error.
                    }
                }
                // Handle other "switch" errors.
            }
        }
    </script>

</head>
<body>
<h1>MetaMask 自定义网络添加示例</h1>
<button type="button" id="addArbSep" onclick="addNetwork();">Add Arbitrum Sepolia Network</button>

<button type="button" id="switchOrAddArbSep" onclick="switchOrAddNetwork();">switch Or Add Arbitrum Sepolia Network</button>
</body>
</html>

