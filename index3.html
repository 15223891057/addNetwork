<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>手机 Chrome 点击复制并让文字变红</title>
    <style>
        .button-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            padding: 12px;
        }

        .button-container button{
            flex: 0 0 calc((100% - 20px) / 3); /* 每行3个，考虑 gap */
            height: 60px;
            padding: 0 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: none;
            outline: none;
            background: #f2f2f2;
            cursor: pointer;

            /* 去掉移动端默认样式/高亮 */
            -webkit-appearance: none;
            -webkit-tap-highlight-color: transparent;

            /* 颜色交给 color 和 -webkit-text-fill-color（兼容性） */
            color: #111;
            transition: color .12s, -webkit-text-fill-color .12s;
            user-select: none;
        }

        /* 如果你在按钮里用了 <h2> 或其他标签，强制它们继承颜色 */
        .button-container button> * {
            margin: 0;
            color: inherit !important;
            -webkit-text-fill-color: inherit !important;
        }

        /* active 类：文字变红。加上 !important 以防被其它样式覆盖 */
        .button-container button.active,
        .button-container button.active * {
            color: red !important;
            -webkit-text-fill-color: red !important;
        }
    </style>
</head>
<body>

<div class="button-container">
    <button><h1>izwzje</h1></button>
    <button><h1>w3m5mc6</h1></button>
    <button><h1>hzy2gc</h1></button>
    <button><h1>rtqcly</h1></button>
    <button><h1>uvv8kh</h1></button>
    <button><h1>4eu1tj</h1></button>
    <button><h1>acvozr</h1></button>
    <button><h1>9wxsgtm</h1></button>
    <button><h1>o4vhtk9</h1></button>
    <button><h1>fgp5ac</h1></button>
    <button><h1>9vhckc</h1></button>
    <button><h1>x7ygzcd</h1></button>
    <button><h1>tprcp8</h1></button>
    <button><h1>ugbrh6</h1></button>
    <button><h1>p970axn</h1></button>
    <button><h1>ndqawp</h1></button>
    <button><h1>tkrf64</h1></button>
    <button><h1>czozxda</h1></button>
    <button><h1>qmsj9vd</h1></button>
    <button><h1>xa4c6vt</h1></button>
    <button><h1>1nohvku</h1></button>
    <button><h1>xwcstg</h1></button>
    <button><h1>ntokrd</h1></button>
    <button><h1>xdayjoq</h1></button>
    <button><h1>dgig2j</h1></button>
    <button><h1>39etud</h1></button>
    <button><h1>qwa7j5j</h1></button>
    <button><h1>vhvzbek</h1></button>
    <button><h1>26godq</h1></button>
    <button><h1>dtyssxt</h1></button>
    <button><h1>rwrsdtg</h1></button>
    <button><h1>kuw8m24</h1></button>
    <button><h1>u5chgl2</h1></button>
    <button><h1>nhknlyt</h1></button>
    <button><h1>ywjywd</h1></button>
    <button><h1>mcdico</h1></button>
    <button><h1>r3v5qfb</h1></button>
    <button><h1>ni9rn0v</h1></button>
    <button><h1>9clip1</h1></button>
    <button><h1>lovmn5e</h1></button>
    <button><h1>wy3gl6</h1></button>
    <button><h1>z4fwqn</h1></button>
    <button><h1>h9xaqyp</h1></button>
    <button><h1>bccgk2</h1></button>
    <button><h1>i5s7rr2</h1></button>
    <button><h1>hy7mcu</h1></button>
    <button><h1>7ibama</h1></button>
    <button><h1>jlos94l</h1></button>
    <button><h1>hzkzo0m</h1></button>
    <button><h1>gmbnmjp</h1></button>
    <button><h1>hrcb2x</h1></button>
    <button><h1>hwswfwp</h1></button>
    <button><h1>kzs4mog</h1></button>
    <button><h1>c0k47xl</h1></button>
    <button><h1>qgfssq</h1></button>
    <button><h1>gpdzpdf</h1></button>
    <button><h1>rzlxfrz</h1></button>
    <button><h1>lzsdlo</h1></button>
    <button><h1>x3x1oz</h1></button>
    <button><h1>ve8gnj</h1></button>
    <button><h1>apjk8yc</h1></button>
    <button><h1>jrw61e0</h1></button>
    <button><h1>cetryg</h1></button>
    <button><h1>1xfuxz</h1></button>
    <button><h1>6ozwnw</h1></button>
    <button><h1>ogvgrek</h1></button>
    <button><h1>pshg3bx</h1></button>
    <button><h1>conumx</h1></button>
    <button><h1>3smtzfj</h1></button>
    <button><h1>uwpyom</h1></button>
    <button><h1>ydswlrf</h1></button>
    <button><h1>igqt69</h1></button>
    <button><h1>sz1hok</h1></button>
    <button><h1>bfiolof</h1></button>
    <button><h1>rowzeo6</h1></button>
    <button><h1>h2lc3o</h1></button>
    <button><h1>pkeopie</h1></button>
    <button><h1>bceazkp</h1></button>
    <button><h1>hdegds</h1></button>
    <button><h1>yruxn0d</h1></button>
    <button><h1>notrxbl</h1></button>
    <button><h1>0zbsgmy</h1></button>
    <button><h1>az2un3</h1></button>
    <button><h1>ccrvg0</h1></button>
    <button><h1>idotot</h1></button>
    <button><h1>xh5ihbl</h1></button>
    <button><h1>qbwwvr</h1></button>
    <button><h1>wannic</h1></button>
    <button><h1>dszoah</h1></button>
    <button><h1>egciqv</h1></button>
    <button><h1>lqmayv3</h1></button>
    <button><h1>boo7f2h</h1></button>
    <button><h1>6dke6m2</h1></button>
    <button><h1>bllfup</h1></button>
    <button><h1>pfsw4o</h1></button>
    <button><h1>gs5j5f2</h1></button>
    <button><h1>xnsyvcs</h1></button>
    <button><h1>gnbez1i</h1></button>
    <button><h1>rskkg5i</h1></button>
    <button><h1>vizq9ob</h1></button>
    <button><h1>guhgqyc</h1></button>
    <button><h1>jx8aayz</h1></button>
    <button><h1>2hw9yf</h1></button>
    <button><h1>uanvyk</h1></button>
    <button><h1>sm0fr5s</h1></button>
    <button><h1>lwamr1n</h1></button>
    <button><h1>mksbkwv</h1></button>
    <button><h1>anqo9g</h1></button>
    <button><h1>zylu6b</h1></button>
    <button><h1>allais</h1></button>
    <button><h1>tbvkws</h1></button>
    <button><h1>mrsscwv</h1></button>
    <button><h1>ggfahs</h1></button>
    <button><h1>iu0a5k9</h1></button>
    <button><h1>pghrrh</h1></button>
    <button><h1>hgu5q8k</h1></button>
    <button><h1>cdiyey</h1></button>
    <button><h1>drt8mvg</h1></button>
    <button><h1>jm1pyzt</h1></button>
    <button><h1>ratgoo</h1></button>
    <button><h1>lpdk5w</h1></button>
    <button><h1>g3rrpqx</h1></button>
    <button><h1>u4luov</h1></button>
    <button><h1>exuvub</h1></button>
    <button><h1>byypek0</h1></button>
    <button><h1>mnf97ol</h1></button>
    <button><h1>4rc6ns</h1></button>
    <button><h1>uxe5f4w</h1></button>
    <button><h1>oriopk</h1></button>
    <button><h1>phyfp0</h1></button>
    <button><h1>sjdrzzb</h1></button>
    <button><h1>pm684a</h1></button>
    <button><h1>kfpoxe</h1></button>
    <button><h1>audzkgq</h1></button>
    <button><h1>oxzn72</h1></button>
    <button><h1>8jqxkh</h1></button>
    <button><h1>mxja7c</h1></button>
    <button><h1>y49szc</h1></button>
    <button><h1>gbjzqt</h1></button>
    <button><h1>2qxzh0</h1></button>
    <button><h1>ifhyjee</h1></button>
    <button><h1>4nlhnyi</h1></button>
    <button><h1>4zoawhf</h1></button>
    <button><h1>v2hy42b</h1></button>
    <button><h1>8faebt</h1></button>
    <button><h1>qv1irx</h1></button>
    <button><h1>aldniad</h1></button>
    <button><h1>cyqdjrf</h1></button>
    <button><h1>w5lbus6</h1></button>
    <button><h1>l38ysz</h1></button>
    <button><h1>njcisv5</h1></button>
    <button><h1>o1e3bu</h1></button>
    <button><h1>gd5isxx</h1></button>
    <button><h1>9bfngu</h1></button>
    <button><h1>ztoydw</h1></button>
    <button><h1>izq6q1w</h1></button>
    <button><h1>hauyehy</h1></button>
    <button><h1>w7rxdt</h1></button>
    <button><h1>57bdbd</h1></button>
    <button><h1>xzs2eyd</h1></button>
    <button><h1>yqracc8</h1></button>
    <button><h1>fs0oye</h1></button>
    <button><h1>zn7yq9</h1></button>
    <button><h1>krwvehy</h1></button>
    <button><h1>qagcuzr</h1></button>
    <button><h1>dsdoxj</h1></button>
    <button><h1>gofqa4p</h1></button>
    <button><h1>kajucj</h1></button>
    <button><h1>4cyqza</h1></button>
    <button><h1>pvypjf</h1></button>
    <button><h1>ulyb7a5</h1></button>
    <button><h1>bzx8ai</h1></button>
    <button><h1>thaonq4</h1></button>
    <button><h1>2xwupb5</h1></button>
    <button><h1>jqerpp</h1></button>
    <button><h1>0ong50</h1></button>
    <button><h1>ifh6aqm</h1></button>
    <button><h1>ndf9pft</h1></button>
    <button><h1>qo0g0vn</h1></button>
    <button><h1>ime4ave</h1></button>
    <button><h1>3vogilx</h1></button>
    <button><h1>dlrjrj</h1></button>
    <button><h1>pkularb</h1></button>
    <button><h1>4nlcpxy</h1></button>
    <button><h1>szbe4uo</h1></button>
    <button><h1>alznozg</h1></button>
    <button><h1>ou4y4a</h1></button>
    <button><h1>g2hzfp</h1></button>
    <button><h1>vvktjz8</h1></button>
    <button><h1>z1iriyw</h1></button>
    <button><h1>pyniou</h1></button>
    <button><h1>sr9hup</h1></button>
    <button><h1>xsocy0h</h1></button>
    <button><h1>rzeocx</h1></button>
    <button><h1>f1heh7r</h1></button>
    <button><h1>ftmresz</h1></button>
    <button><h1>otgx661</h1></button>
    <button><h1>ystlow</h1></button>
    <button><h1>v4zoxua</h1></button>
    <button><h1>xoqhnn8</h1></button>
</div>

<script>
    // 统一绑定事件（比 inline onclick 更可靠）
    document.querySelectorAll('.button-container button').forEach(btn => {
        btn.addEventListener('click', async (e) => {
            const text = btn.innerText.trim();

            // 先试复制（navigator.clipboard 或 fallback）
            try {
                if (navigator.clipboard && navigator.clipboard.writeText) {
                    await navigator.clipboard.writeText(text);
                } else {
                    // fallback：临时 textarea + execCommand
                    const ta = document.createElement('textarea');
                    ta.value = text;
                    ta.style.position = 'fixed';
                    ta.style.left = '-9999px';
                    document.body.appendChild(ta);
                    ta.select();
                    document.execCommand('copy');
                    ta.remove();
                }

                // 把样式改动放到下一帧，避免被浏览器的点击态覆盖
                requestAnimationFrame(() => {

                    // 给当前按钮加上 active（CSS 里设置了 color + -webkit-text-fill-color）
                    btn.classList.add('active');

                    // 额外：对内部元素直接设置 inline -webkit-text-fill-color（用于更顽固的情况）
                    btn.querySelectorAll('*').forEach(el => {
                        el.style.webkitTextFillColor = 'red';
                    });
                });

            } catch (err) {
                console.error('复制失败：', err);
            }
        }, { passive: false });
    });
</script>

</body>
</html>
